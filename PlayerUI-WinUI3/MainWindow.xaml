<Window
    x:Class="PlayerUI_WinUI3.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PlayerUI_WinUI3"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"       
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d">
    
    <!-- When using BackdropMaterial(Mica), set the background transparent -->
    <muxc:Grid x:Name="gridroot" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Padding="10">
        <muxc:Grid.DataContext>
            <local:MainViewModel/>
        </muxc:Grid.DataContext>
        <Grid.ContextFlyout>
            <MenuFlyout AreOpenCloseAnimationsEnabled="True"  PickerFlyoutBase.Title="Media">
                <MenuFlyoutItem Text="Open"/>
                <MenuFlyoutItem Text="Play"/>
                <MenuFlyoutItem Text="Pause"/>
                <MenuFlyoutItem Text="Stop"/>
                <MenuFlyoutItem Text="Close"/>
            </MenuFlyout>
        </Grid.ContextFlyout>

        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Top"
                   Text="{Binding TitlebarTitle}"/>
        <Grid Grid.Row="1" >
            <!--Grid.Shadow>
                <ThemeShadow/>
            </Grid.Shadow-->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="120"/>
            </Grid.ColumnDefinitions>
            <muxc:TextBox Text="{Binding TestPropertyBind}"/>
            <muxc:Button Content="TestCommand" Command="{Binding TestCommand}"/>
            <!--StackPanel Grid.ColumnSpan="2" Margin="10,0">
                <TextBlock Text="{Binding FileName              ,FallbackValue=FileName}"
                           Visibility="{Binding Text, RelativeSource={RelativeSource Mode=Self},Converter={StaticResource AutoCollapseEmptyTextBlock}}"/>
                <TextBlock Text="{Binding MusicProperties.Title ,FallbackValue=Title}"
                           Visibility="{Binding Text, RelativeSource={RelativeSource Mode=Self},Converter={StaticResource AutoCollapseEmptyTextBlock}}"/>
                <TextBlock Text="{Binding MusicProperties.Artist,FallbackValue=Artist}"
                           Visibility="{Binding Text, RelativeSource={RelativeSource Mode=Self},Converter={StaticResource AutoCollapseEmptyTextBlock}}"/>
                <TextBlock Text="{Binding MusicProperties.Album ,FallbackValue=Album}"
                           Visibility="{Binding Text, RelativeSource={RelativeSource Mode=Self},Converter={StaticResource AutoCollapseEmptyTextBlock}}"/>
                |Image Source="{Binding MusicProperties.CoverImage}"|
            </StackPanel-->

            <!--StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="5">
                <TextBlock Text="{Binding TimePosition,Converter={StaticResource TimeSpanToString}}" d:Text="00:00"/>
                <TextBlock Text="/" Margin="8,0"/>
                <TextBlock Text="{Binding TimeDuration,Converter={StaticResource TimeSpanToString}}" d:Text="00:00"/>
            </StackPanel-->

        </Grid>
        <Grid Grid.Row="2" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="120"/>
            </Grid.ColumnDefinitions>
            <StackPanel Margin="5" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                <!--Button >
                    <PathIcon Data="F1 M 11.2 4.720001 C 10.906667 4.320002 10.506666 4.120001 10 4.120001 C 9.493333 4.120001 9.093332 4.320002 8.8 4.720001 L 4.32 10.720001 C 4.079999 11.040001 3.98 11.386668 4.02 11.760001 C 4.06 12.133335 4.22 12.453335 4.5 12.720001 C 4.78 12.986668 5.12 13.120001 5.52 13.120001 L 14.48 13.120001 C 14.879999 13.120001 15.219999 12.986668 15.5 12.720001 C 15.78 12.453335 15.94 12.133335 15.98 11.760001 C 16.019999 11.386668 15.919998 11.040001 15.679999 10.720001 Z M 4 15.120001 C 3.866666 15.120001 3.753333 15.166668 3.66 15.260001 C 3.566667 15.353334 3.52 15.473334 3.52 15.620001 C 3.52 15.766668 3.566667 15.886667 3.66 15.980001 C 3.753333 16.073334 3.866666 16.120001 4 16.120001 L 16 16.120001 C 16.133331 16.120001 16.25333 16.073334 16.359999 15.980001 C 16.466667 15.886667 16.52 15.766668 16.52 15.620001 C 16.52 15.473334 16.466667 15.353334 16.359999 15.260001 C 16.25333 15.166668 16.133331 15.120001 16 15.120001 Z " VerticalAlignment="Center" HorizontalAlignment="Center" />
                </Button-->
                <!--Button >
                    <PathIcon Data="F1 M 2.76 16.360001 C 2.76 16.573334 2.833333 16.753334 2.98 16.900002 C 3.126666 17.046667 3.3 17.120001 3.5 17.120001 C 3.7 17.120001 3.873333 17.046667 4.02 16.900002 C 4.166667 16.753334 4.24 16.573334 4.24 16.360001 L 4.24 3.880001 C 4.24 3.666668 4.166667 3.48667 4.02 3.340002 C 3.873333 3.193335 3.7 3.120001 3.5 3.120001 C 3.3 3.120001 3.126666 3.193335 2.98 3.340002 C 2.833333 3.48667 2.76 3.666668 2.76 3.880001 Z M 16.76 15.720001 C 16.76 15.960001 16.700001 16.173334 16.58 16.360001 C 16.459999 16.546667 16.299999 16.700001 16.1 16.820002 C 15.899999 16.940001 15.679998 16.993334 15.44 16.980001 C 15.199999 16.966667 14.986666 16.893333 14.799999 16.76 L 6.4 11.160001 C 6.026666 10.920002 5.84 10.573335 5.84 10.120001 C 5.84 9.666668 6.026666 9.320002 6.4 9.080001 L 14.799999 3.480001 C 14.986666 3.346668 15.199999 3.273335 15.44 3.260002 C 15.679998 3.246668 15.899999 3.300001 16.1 3.420002 C 16.299999 3.540001 16.459999 3.693335 16.58 3.880001 C 16.700001 4.066668 16.76 4.280002 16.76 4.520001 Z " VerticalAlignment="Center" HorizontalAlignment="Center" />
                </Button-->

                <!-- Command="{Binding PlaypauseCommand}" -->
                <Button  x:Name="buttonopen" Click="Button_Click" Width="45" Height="35">
                    <!--PathIcon Data="F1 M 7.24 2.52 C 6.813333 2.280001 6.366666 2.206669 5.9 2.300001 C 5.433333 2.393335 5.046666 2.613335 4.74 2.960001 C 4.433333 3.306669 4.28 3.733335 4.28 4.240001 L 4.28 16 C 4.28 16.506668 4.433333 16.933334 4.74 17.280001 C 5.046666 17.626667 5.433333 17.846668 5.9 17.940001 C 6.366666 18.033335 6.813333 17.960001 7.24 17.720001 L 17.719999 11.560001 C 18.093332 11.346668 18.346664 11.053335 18.48 10.680001 C 18.613333 10.306668 18.613333 9.933334 18.48 9.560001 C 18.346664 9.186668 18.093332 8.893334 17.719999 8.680001 Z " /-->
                    <!--PathIcon Data="F1 M 17.5 10 L 5 18.75 L 5 1.25 Z M 6.25 16.347656 L 15.322266 10 L 6.25 3.652344 Z"/-->
                    <PathIcon Data="F1 M 7.04 4.040001 C 6.72 3.853334 6.406666 3.853334 6.1 4.040001 C 5.793333 4.226668 5.64 4.493335 5.64 4.84 L 5.64 15.48 C 5.64 15.826667 5.793333 16.093334 6.1 16.280001 C 6.406666 16.466667 6.72 16.466667 7.04 16.280001 L 16.4 10.96 C 16.719999 10.800001 16.879999 10.533334 16.879999 10.16 C 16.879999 9.786667 16.719999 9.52 16.4 9.36 Z M 4.36 4.84 C 4.36 4.306668 4.533333 3.840002 4.88 3.440001 C 5.226666 3.040001 5.653333 2.793335 6.16 2.700001 C 6.666667 2.606667 7.16 2.693335 7.64 2.960001 L 17 8.24 C 17.48 8.533334 17.806665 8.926667 17.98 9.42 C 18.153332 9.913334 18.153332 10.406667 17.98 10.9 C 17.806665 11.393333 17.48 11.786667 17 12.08 L 7.64 17.360001 C 7.16 17.626667 6.666667 17.713333 6.16 17.619999 C 5.653333 17.526667 5.226666 17.280001 4.88 16.879999 C 4.533333 16.48 4.36 16.013332 4.36 15.48 Z " />
                </Button>
                <!--Button >
                    <PathIcon Data="F1 M 17 3.880001 C 17 3.666668 16.926666 3.48667 16.779999 3.340002 C 16.633331 3.193335 16.453333 3.120001 16.24 3.120001 C 16.026667 3.120001 15.846666 3.193335 15.7 3.340002 C 15.553332 3.48667 15.479999 3.666668 15.48 3.880001 L 15.48 16.360001 C 15.506665 16.573334 15.586665 16.753334 15.719999 16.900002 C 15.853333 17.046667 16.026667 17.120001 16.24 17.120001 C 16.453333 17.120001 16.633331 17.046667 16.779999 16.900002 C 16.926666 16.753334 17 16.573334 17 16.360001 Z M 3 4.520001 C 3 4.280002 3.06 4.066668 3.18 3.880001 C 3.3 3.693335 3.46 3.540001 3.66 3.420002 C 3.86 3.300001 4.073333 3.246668 4.3 3.260002 C 4.526666 3.273335 4.746666 3.346668 4.96 3.480001 L 13.36 9.080001 C 13.706667 9.320002 13.88 9.666668 13.88 10.120001 C 13.88 10.573335 13.706667 10.920002 13.36 11.160001 L 4.96 16.76 C 4.746666 16.893333 4.526666 16.966667 4.3 16.980001 C 4.073333 16.993334 3.86 16.940001 3.66 16.820002 C 3.46 16.700001 3.3 16.546667 3.18 16.360001 C 3.06 16.173334 3 15.960001 3 15.720001 Z " VerticalAlignment="Center" HorizontalAlignment="Center" />
                </Button-->
            </StackPanel>


            <!--ThumbToolTipValueConverter="{StaticResource TotalSecondsToString}"
            Value="{Binding TimePosition, Converter={StaticResource TimeSpanToDouble},Mode=TwoWay}"
            Maximum="{Binding TimeDuration,Converter={StaticResource TimeSpanToDouble}}"-->
            <Slider x:Name="slidertime" Grid.Column="1" VerticalAlignment="Center" Margin="5"
                    PointerMoved="slidertime_PointerMoved"/>

            <Button Grid.Column="2" Margin="5" >
                <PathIcon Data="F1 M 10.44 2.84 C 10.68 2.626667 10.946667 2.586666 11.24 2.719999 C 11.533333 2.853333 11.68 3.066668 11.679999 3.360001 L 11.679999 16.959999 C 11.68 17.253334 11.533333 17.466667 11.24 17.6 C 10.946667 17.733334 10.68 17.693333 10.44 17.48 L 7.04 14.4 C 6.666666 14.08 6.226666 13.92 5.719999 13.92 L 3.76 13.92 C 3.146667 13.92 2.626667 13.706667 2.200001 13.280001 C 1.773335 12.853333 1.559999 12.333334 1.559999 11.72 L 1.559999 8.6 C 1.559999 7.986668 1.773335 7.466667 2.200001 7.04 C 2.626667 6.613335 3.146667 6.400002 3.76 6.400001 L 5.719999 6.400001 C 6.226666 6.400002 6.666666 6.240001 7.04 5.92 Z M 10.639999 4.08 L 7.719999 6.68 C 7.16 7.186668 6.493333 7.440001 5.719999 7.440001 L 3.76 7.440001 C 3.440001 7.440001 3.166668 7.553334 2.940001 7.78 C 2.713333 8.006667 2.6 8.280001 2.6 8.6 L 2.6 11.72 C 2.6 12.04 2.713333 12.313334 2.940001 12.54 C 3.166668 12.766666 3.440001 12.88 3.76 12.88 L 5.719999 12.88 C 6.493333 12.88 7.16 13.133333 7.719999 13.639999 L 10.639999 16.24 Z M 15.16 3.639999 C 15.24 3.560001 15.353333 3.513334 15.5 3.5 C 15.646667 3.486668 15.773333 3.533333 15.88 3.639999 L 16.279999 4.08 C 16.6 4.480001 16.880001 4.893334 17.119999 5.320001 C 17.92 6.786668 18.32 8.400002 18.32 10.16 C 18.32 11.92 17.92 13.533334 17.119999 15 C 16.880001 15.426666 16.6 15.84 16.279999 16.24 C 16.173332 16.373333 16.053333 16.506666 15.92 16.639999 L 15.88 16.68 L 15.96 16.6 L 15.88 16.68 C 15.773333 16.786667 15.646667 16.833334 15.5 16.82 C 15.353333 16.806667 15.233334 16.746666 15.139999 16.639999 C 15.046667 16.533333 15 16.413334 15 16.280001 C 15 16.146667 15.053333 16.026667 15.16 15.92 L 15.48 15.559999 C 15.746667 15.24 15.986667 14.88 16.199999 14.48 C 16.919998 13.173334 17.279999 11.733334 17.279999 10.16 C 17.279999 8.586668 16.919998 7.146667 16.199999 5.84 C 15.986667 5.440001 15.746667 5.080001 15.48 4.76 L 15.16 4.400001 C 15.053333 4.293334 15 4.166667 15 4.02 C 15 3.873335 15.053333 3.746668 15.16 3.639999 Z M 13.48 6.16 C 13.559999 6.053333 13.673333 6 13.82 6 C 13.966667 6 14.093333 6.04 14.2 6.12 L 14.48 6.440001 C 14.693333 6.68 14.879999 6.933334 15.04 7.2 C 15.573333 8.106667 15.839999 9.086667 15.839999 10.14 C 15.839999 11.193334 15.573333 12.186666 15.04 13.12 C 14.879999 13.386667 14.693333 13.64 14.48 13.88 L 14.2 14.2 C 14.093333 14.280001 13.966667 14.32 13.82 14.32 C 13.673333 14.32 13.553333 14.266666 13.46 14.16 C 13.366667 14.053333 13.326667 13.926667 13.34 13.780001 C 13.353333 13.633333 13.4 13.52 13.48 13.440001 L 13.679999 13.24 C 13.84 13.026667 13.986668 12.813334 14.12 12.6 C 14.573333 11.826667 14.799999 11.013333 14.799999 10.16 C 14.799999 9.306667 14.573333 8.493334 14.12 7.72 C 13.986668 7.506668 13.84 7.293335 13.679999 7.08 L 13.48 6.88 L 13.48 6.88 C 13.4 6.800001 13.353333 6.686667 13.34 6.54 C 13.326667 6.393333 13.373333 6.266666 13.48 6.16 Z " />
                <!--PathIcon Data="F1 M 11.679999 12.559999 L 17.440001 18.360001 C 17.546665 18.440001 17.673332 18.48 17.82 18.48 C 17.966665 18.48 18.086666 18.433332 18.18 18.34 C 18.273333 18.246666 18.32 18.126667 18.32 17.98 C 18.32 17.833334 18.279999 17.706667 18.199999 17.6 L 2.56 1.960001 C 2.453333 1.880001 2.326666 1.84 2.18 1.84 C 2.033333 1.84 1.913333 1.886667 1.82 1.98 C 1.726667 2.073334 1.68 2.193335 1.68 2.34 C 1.68 2.486668 1.72 2.613335 1.8 2.719999 L 5.52 6.400001 L 3.76 6.400001 C 3.146667 6.400002 2.626667 6.613335 2.2 7.04 C 1.773333 7.466667 1.56 7.986668 1.56 8.6 L 1.56 11.72 C 1.56 12.333334 1.773333 12.853333 2.2 13.280001 C 2.626667 13.706667 3.146667 13.92 3.76 13.92 L 5.72 13.92 C 6.226666 13.92 6.666667 14.08 7.04 14.4 L 10.44 17.48 C 10.68 17.693333 10.946667 17.733334 11.24 17.6 C 11.533333 17.466667 11.679999 17.253334 11.679999 16.959999 Z M 10.639999 11.52 L 10.639999 16.24 L 7.72 13.639999 C 7.159999 13.133333 6.493333 12.88 5.72 12.88 L 3.76 12.88 C 3.44 12.88 3.166667 12.766666 2.94 12.54 C 2.713333 12.313334 2.6 12.04 2.6 11.72 L 2.6 8.6 C 2.6 8.280001 2.713333 8.006667 2.94 7.78 C 3.166667 7.553334 3.44 7.440001 3.76 7.440001 L 5.72 7.440001 C 5.96 7.440001 6.213333 7.413335 6.48 7.360001 Z M 8.24 6.2 L 7.52 5.48 L 10.44 2.84 C 10.68 2.626667 10.946667 2.586666 11.24 2.719999 C 11.533333 2.853333 11.679999 3.066668 11.679999 3.360001 L 11.679999 9.6 L 10.639999 8.56 L 10.639999 4.08 Z M 15.08 13.04 L 14.32 12.24 C 14.639999 11.6 14.799999 10.906667 14.799999 10.16 C 14.799999 9.306667 14.573333 8.493334 14.12 7.72 C 13.986667 7.506668 13.84 7.293335 13.679999 7.08 L 13.48 6.88 L 13.48 6.88 C 13.4 6.800001 13.353333 6.686667 13.34 6.54 C 13.326666 6.393333 13.373333 6.266666 13.48 6.16 C 13.586666 6.053333 13.706666 6 13.84 6 C 13.973333 6 14.093333 6.04 14.2 6.12 L 13.84 6.52 L 14.2 6.12 L 14.48 6.440001 C 14.693333 6.68 14.879999 6.933334 15.04 7.2 C 15.573332 8.106667 15.839998 9.08 15.839999 10.12 C 15.839998 11.16 15.586665 12.133333 15.08 13.04 Z M 17.08 15.04 L 16.32 14.280001 C 16.959999 13.026667 17.279999 11.653334 17.279999 10.16 C 17.279999 8.586668 16.919998 7.146667 16.199999 5.84 C 15.986666 5.440001 15.746666 5.080001 15.48 4.76 L 15.16 4.400001 C 15.053332 4.293334 14.999999 4.166667 15 4.02 C 14.999999 3.873335 15.046665 3.753334 15.139999 3.66 C 15.233332 3.566668 15.353333 3.513334 15.5 3.5 C 15.646666 3.486668 15.773333 3.533333 15.88 3.639999 L 15.52 4 L 15.88 3.639999 L 16.279999 4.08 C 16.599998 4.480001 16.879999 4.893334 17.119999 5.320001 C 17.919998 6.786668 18.32 8.400002 18.32 10.16 C 18.32 11.92 17.919998 13.533334 17.119999 15 Z " /-->
            </Button>
            <Slider x:Name="volumeSlider" Grid.Column="3" VerticalAlignment="Center" Margin="5"
                    Maximum="100"
                    Value="100"
                    ValueChanged="volumeSlider_ValueChanged"/>
        </Grid>

    </muxc:Grid>
</Window>
